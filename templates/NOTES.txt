PostgreSQL Connectivity Test Job has been deployed!

Job Name: {{ include "load-chart.fullname" . }}
Namespace: {{ .Release.Namespace }}

To check the job status:
  kubectl get job {{ include "load-chart.fullname" . }} -n {{ .Release.Namespace }}

To view job logs:
  kubectl logs job/{{ include "load-chart.fullname" . }} -n {{ .Release.Namespace }}

To check if the job completed successfully:
  kubectl get job {{ include "load-chart.fullname" . }} -n {{ .Release.Namespace }} -o jsonpath='{.status.succeeded}'

The job will:
1. Wait for PostgreSQL to become ready ({{ .Values.job.postgres.host }}:{{ .Values.job.postgres.port }})
2. Execute "SELECT 1" to test connectivity
3. Exit with code 0 on success, 1 on failure
4. Be automatically cleaned up after {{ .Values.job.ttlSecondsAfterFinished }} seconds

{{- if .Values.postgresql.enabled }}

PostgreSQL Service: {{ .Release.Name }}-postgresql
PostgreSQL Connection String: postgresql://{{ .Values.job.postgres.user }}@{{ .Values.job.postgres.host }}:{{ .Values.job.postgres.port }}/{{ .Values.job.postgres.database }}
{{- end }}

{{- if .Values.rabbitmq.enabled }}

RabbitMQ Service: {{ .Release.Name }}-rabbitmq
{{- end }}
